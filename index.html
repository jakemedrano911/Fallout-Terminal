<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>RobCo Corporate Employee Access Terminal</title>
<style>
  body{
    margin:0;
    background:#041204;
    color:#9aff9a;
    font-family:"IBM Plex Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Courier New", monospace;
    font-size:24px;
    letter-spacing:.25px;
    line-height:1.2;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
  }
  #terminal{
    position:relative;
    width:80vw;
    height:80vh;
  }
  #terminal::after{
    content:"";
    position:absolute;
    top:0;left:0;right:0;bottom:0;
    pointer-events:none;
    background:repeating-linear-gradient(
      rgba(0,0,0,0.15) 0px,
      rgba(0,0,0,0.15) 1px,
      transparent 1px,
      transparent 2px
    );
  }
  #header, #content{
    white-space:pre-wrap;
  }
  .option{
    display:block;
    width:100%;
    cursor:pointer;
  }
  .option:hover, .option:focus, .option.selected{
    background:#00aa00;
    color:#041204;
  }
  .cursor{display:inline-block; animation:blink 1s steps(1,end) infinite;}
  @keyframes blink{50%{opacity:0;}}
</style>
</head>
<body>
<div id="terminal">
  <div id="header"></div>
  <div id="content"></div>
</div>
<script>
const headerLines=[
"ROBCO INDUSTRIES UNIFIED OPERATING SYSTEM",
"COPYRIGHT 2075-2077 ROBCO INDUSTRIES",
"-Headquarters Mainframe 3A-",
"",
"Welcome to the RobCo Corporate Employee Access Terminal!",
"____________________________________________________",
"",
];

const screens={
  menu:[
    {text:"> Corporate Announcements",screen:"announcements"},
    {text:"> Human Resources Reports",screen:"hr"},
    {text:"> Cafeteria Menu",screen:"cafeteria"},
    {text:"> Engineering Incident Log",screen:"incident"},
    {text:"> Executive Memoranda",screen:"memos"},
    "",
    "> _"
  ],
  announcements:[
    "== CORPORATE ANNOUNCEMENTS ==",
    "",
    "• RobCo has surpassed quarterly earnings expectations — thanks in part to ",
    "  “voluntary” staff reductions. Fewer employees means more profit!",
    "",
    "• Reminder: All employees are required to smile at visiting shareholders. ",
    "  Failure to display appropriate dental enthusiasm will result in corrective retraining.",
    "",
    "• The lobby statue of Mr. Handy will be refurbished after its ",
    "  “malfunctioning flamethrower” incident last week. ",
    "",
    "End of Announcements.",
    {text:"> RETURN",screen:"menu"}
  ],
  hr:[
    "== HUMAN RESOURCES REPORTS ==",
    "",
    "07/03/2076: Employee #221 filed complaint regarding unsafe working conditions ",
    "             in Robotics Testing. Resolution: Complaint “misplaced” in filing system. ",
    "",
    "07/07/2076: Four interns reported missing after a prototype Securitron test. ",
    "             Payroll savings recorded. ",
    "",
    "07/10/2076: Employee #334 suggested forming a labor union. ",
    "             Corrective measure: immediate promotion to “Field Tester.” ",
    "             (Field remains undisclosed.)",
    "",
    "All reports considered closed. Remember: RobCo cares™.",
    {text:"> RETURN",screen:"menu"}
  ],
  cafeteria:[
    "== CAFETERIA MENU ==",
    "",
    "Today’s Entrées:",
    "• Salisbury Steak (reconstituted, now with *real* beef flavoring)",
    "• Mac & Cheese (made with 63% cheese-like product)",
    "• Radroach-on-a-Stick (Chef says they’re “nutrient rich”)",
    "• Mystery Stew (exact ingredients pending autopsy results)",
    "",
    "Note: Due to cost-cutting, utensils are available on a ",
    "“bring-your-own” basis. Corporate thanks you for your flexibility.",
    "",
    "Bon Appetit!",
    {text:"> RETURN",screen:"menu"}
  ],
  incident:[
    "== ENGINEERING INCIDENT LOG ==",
    "",
    "06/29/2076: Prototype Protectron unit “accidentally” welded an employee ",
    "             inside the breakroom fridge. Productivity unaffected. ",
    "",
    "07/02/2076: Assembly Line C reported a catastrophic coolant leak. ",
    "             Workers instructed to breathe shallowly and “stay positive.” ",
    "",
    "07/09/2076: Mr. Gibbons attempted to “ride” a Mr. Handy down the freight elevator. ",
    "             Elevator repairs estimated at 14,000 caps. Mr. Gibbons estimated at zero. ",
    "",
    "End of Report.",
    {text:"> RETURN",screen:"menu"}
  ],
  memos:[
    "== EXECUTIVE MEMORANDA ==",
    "",
    "TO: All Department Heads",
    "FROM: Corporate Office of Efficiency",
    "DATE: 07/15/2076",
    "",
    "Team,",
    "",
    "• Effective immediately, all chairs have been removed from the engineering floor. ",
    "  Standing boosts circulation and, more importantly, output. ",
    "",
    "• Paychecks will now be distributed in the form of RobCo Scrip, ",
    "  redeemable only at the company commissary. ",
    "  (Note: Commissary has doubled prices accordingly.)",
    "",
    "• The phrase “work-life balance” is banned from corporate correspondence. ",
    "  Employees are reminded that “work” is life. ",
    "",
    "Signed,",
    "— RobCo Management Team",
    "P.S. Remember: Robots don’t complain, and neither should you.",
    "",
    {text:"> RETURN",screen:"menu"}
  ]
};

const header=document.getElementById('header');
const content=document.getElementById('content');
let currentOptions=[];
let selected=-1;
let typing=false;

function sleep(ms){return new Promise(r=>setTimeout(r,ms));}

async function typeText(el,text){
  for(let ch of text){
    el.textContent+=ch;
    await sleep(17);
  }
  el.textContent+='\n';
}

async function init(){
  for(const line of headerLines){
    await typeText(header,line);
  }
  showScreen('menu');
}

async function showScreen(name){
  typing=true;
  content.innerHTML='';
  currentOptions=[];
  selected=-1;
  for(const line of screens[name]){
    if(typeof line==='object'){
      const div=document.createElement('div');
      div.className='option';
      div.tabIndex=0;
      content.appendChild(div);
      await typeText(div,line.text);
      div.addEventListener('click',()=>showScreen(line.screen));
      div.addEventListener('mouseenter',()=>{
        if(selected>=0){
          currentOptions[selected].classList.remove('selected');
          selected=-1;
        }
      });
      currentOptions.push(div);
    }else{
      const div=document.createElement('div');
      content.appendChild(div);
      await typeText(div,line);
    }
  }
  const last=content.lastChild;
  if(last && last.textContent.trim()==='> _'){
    last.innerHTML='&gt; <span class="cursor">█</span>';
  }
  typing=false;
}

document.addEventListener('keydown',e=>{
  if(typing || !currentOptions.length) return;
  if(e.key==='ArrowDown'){
    if(selected>=0) currentOptions[selected].classList.remove('selected');
    selected=selected<0?0:(selected+1)%currentOptions.length;
    currentOptions[selected].classList.add('selected');
    currentOptions[selected].focus();
  }else if(e.key==='ArrowUp'){
    if(selected>=0) currentOptions[selected].classList.remove('selected');
    selected=selected<0?currentOptions.length-1:(selected-1+currentOptions.length)%currentOptions.length;
    currentOptions[selected].classList.add('selected');
    currentOptions[selected].focus();
  }else if(e.key==='Enter' && selected>=0){
    currentOptions[selected].click();
  }
});

init();
</script>
</body>
</html>
